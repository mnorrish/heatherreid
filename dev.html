<!DOCTYPE html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <title>Heather Reid Marriage Celebrant - Dunedin - for your wedding ceremony</title>

    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" type="text/css" href="styles/main.css">
  </head>

  <body>

    <header>
      <h1 id="logo" class="ir">Heather Reid | Marriage Celebrant</h1>
      <blockquote id="introLine">Working with <br>you to create <br>your unique <br>ceremony</blockquote>
    </header>

    <section id="profile" class="clearfix">
      <h2>Dunedin based celebrant <br>for weddings, funerals &amp; other ceremonies</h2>

      <div id="heather">
        <img src="img/portrait.png" width="242" height="270" alt="Photograph of Heather Reid">
        <h3>Heather Reid</h3>
        <p>Certificate in Celebrant Studies</p>
        <p><a href="http://www.celebrantsassociation.co.nz/" class="canz">Member of the Celebrants' Association of New Zealand</a></p>
      </div>

      <div id="mainText">
        <p>With a warm, friendly personality and professional approach, I’m very passionate about my work as a Marriage Celebrant</p>
        <p>Having experienced many of life’s challenges, I have the compassion and understanding needed to help you create your perfect ceremony. I have always worked with the public and have experience with people from all walks of life. I respect confidentially and am a great listener.</p>
        <p>Words create a unique picture which personalises your ceremony &mdash; capturing what is most special and important to you. A passion for creative writing has led me to publish my own book of short stories and poems.</p>
        <p>I have a Certificate in Celebrant Studies and am a member of the Celebrants’ Association of New Zealand.</p>
      </div>

      <blockquote>
        <p><span>Love, a unique form </span><span>of togetherness</span></p>
        <p>Your story created with you &mdash; for&nbsp;you</p>
      </blockquote>
    </section>

    <section id="contact" class="clearfix">
      <div>
        <h2>Contact me</h2>
        <p>All questions and enquiries welcome</p>
        <dl>
          <dt>Location</dt>
          <dd class="location">Based in Dunedin, New Zealand</dd>
          <dt>Email</dt>
          <dd class="email"><a href="mailto:heather@marriage-celebrant.co.nz">heather@marriage-celebrant.co.nz</a></dd>
          <dt>Phone</dt>
          <dd class="phone">03 472 8881 or 027 481 1151</dd>
        </dl>
      </div>

      <div>
        <form id="contactForm">
          <div>
            <label for="cName" class="desc">Name</label>
            <input id="cName" name="name" type="text" placeholder="Name" required>
            <label for="cName" class="required">Required</label>
          </div>
          <div>
            <label for="cPhone" class="desc">Phone</label>
            <input id="cPhone" name="phone" type="text" placeholder="Phone" required>
            <label for="cPhone" class="required">Required</label>
          </div>
          <div>
            <label for="cEmail" class="desc">Email</label>
            <input id="cEmail" name="email" type="email" placeholder="Email" required>
            <label for="cEmail" class="required">Required</label>
            <label for="cEmail" class="error hidden">Email address must be valid</label>
          </div>
          <div>
            <label for="cMessage" class="desc">Message</label>
            <textarea id="cMessage" name="message" placeholder="Message" rows="3" required></textarea>
            <label for="cMessage" class="required">Required</label>
          </div>
          <button type="submit">Send</button>
        </form>
      </div>

    </section>

    <footer>
      <small rel="copyright">All rights reserved Heather Reid 2013</small>
      <small><a href="http://mnorrish.co.nz" title="M.Norrish | Designer & Developer">Website by M.Norrish</a></small>
    </footer>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script>
      $(function(){

        var validityTests = {
          name: function(value) {
            return true;
          },
          phone: function(value) {
            return true;
          },
          email: function(value) {
            if (/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(value)) {
              $('#cEmail').siblings('.error').addClass('hidden');
              return true;
            }

            $('#cEmail').siblings('.error').removeClass('hidden');
            return false
          },
          message: function(value) {
            return true;
          }
        };

        var isValidFormData  = function(data) {
          var isValid = true;
          $.each(data, function(index, item) {
            isValid = isValid && validityTests[item.name](item.value);
          });

          return isValid;
        };

        $('#contactForm').on('submit', function(e) {
          e.preventDefault();

          var formData = $(this).serializeArray();
          console.log(formData);

          if (isValidFormData(formData)) {
            $('input, textarea, button', '#contactForm').prop('disabled', true);

            $.ajax({
              url: '/test',
              type: 'POST',
              data: formData,
              success: function() {
                console.log('success');
              },
              error: function() {
                console.log('error');
              },
              complete: function() {
                $('input, textarea, button', '#contactForm').prop('disabled', false);
              }
            });
          }

        });

      });
    </script>

  </body>
</html>
